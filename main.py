# Your first line of Python code
def vigenere_encrypt(text, key):

    result = ''
    key = key.lower()
    key_index = 0
    for ch in text.lower():
        if ch in alphabet:
            shift = alphabet.index(key[key_index % len(key)])
            idx = (alphabet.index(ch) + shift) % len(alphabet)
            result += alphabet[idx]
            key_index += 1
        else:
            result += ch
    return result

# Пример:
alphabet = 'абвгдежзийклмнопрстуфхцчшщъыьэюя'
text = "История развития систем информационной безопасности насчитывает множество этапов, каждый из которых характеризуется своими особенностями и достижениями. Первые попытки защиты информации связаны с появлением шифрования, которое возникло еще до нашей эры. В Древнем Египте использовались специальные знаки для кодировки сообщений, а в Римской империи применяли различные методы шифровки для военных целей.С развитием технологий, появились новые угрозы безопасности данных, такие как вирусы и хакерские атаки. В начале XX века были разработаны первые антивирусные программы, которые позволяли обнаруживать и удалять вредоносный код. Также начали использоваться методы криптографии для защиты электронной почты и финансовых транзакций. Однако настоящая революция в области информационной безопасности произошла в конце XX века с появлением интернета. Интернет стал глобальной сетью, которая позволила обмениваться информацией между людьми и организациями со всего мира. Это привело к созданию новых угроз, таких как фишинговые атаки и утечки данных. Компании начали разрабатывать сложные системы защиты информации, включающие брандмауэры, системы управления идентификацией и доступа, а также системы обнаружения вторжений. В настоящее время системы информационной безопасности продолжают развиваться и совершенствоваться. Разрабатываются новые технологии, такие как машинное обучение и искусственный интеллект, которые позволяют автоматизировать процессы обнаружения и предотвращения угроз. Кроме того, все больше внимания уделяется защите персональных данных пользователей и соблюдению законодательства в этой области. Таким образом, история становления систем информационной безопасности показывает, что защита информации является одной из ключевых задач современного общества. Благодаря непрерывному развитию технологий и подходов к защите данных, мы можем надежно защищать нашу информацию от различных угроз"
key = "безопасность"
encrypted = vigenere_encrypt(text, key)
print("Зашифрованный текст:", encrypted)

def vigenere_decrypt(encrypted_text, key):
    # Русский алфавит без "Ё"

    result = ''
    key_index = 0  # Счётчик позиции в ключе

    for ch in encrypted_text:
        if ch.lower() in alphabet:  # Если это буква из алфавита
            # Определяем текущую букву ключа
            current_key_char = key[key_index % len(key)].lower()
            shift = alphabet.index(current_key_char)  # Сдвиг = позиция буквы ключа

            # Расшифровываем: (зашифрованная буква - сдвиг) mod длина алфавита
            encrypted_pos = alphabet.index(ch.lower())
            decrypted_pos = (encrypted_pos - shift + len(alphabet)) % len(alphabet)
            decrypted_char = alphabet[decrypted_pos]

            # Сохраняем регистр исходной буквы
            if ch.isupper():
                result += decrypted_char.upper()
            else:
                result += decrypted_char

            key_index += 1  # Переходим к следующей букве ключа
        else:
            # Если это не буква — оставляем как есть (пробелы, знаки препинания)
            result += ch

    return result
    
# Расшифровка
decrypted = vigenere_decrypt(encrypted, key)
print("Расшифрованный текст:", decrypted)
